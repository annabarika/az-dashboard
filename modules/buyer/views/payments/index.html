<div class="page-header">
    <div class="box-layout">
        <div class="row mb-xs">
            <div class="col-sm-3">
                <div class="btn btn-info" ng-click="addNewPayment()"><i class="fa fa-plus"></i> New payment</div>
                <!--<div class="btn btn-default" ng-hide="userType!='admin'" ng-click="addNewCashOffice()"><i class="fa fa-plus"></i> New cashier office</div>-->
            </div>
            <div class="col-sm-5">
                <div class="col-sm-4 va-m">
                    <input date-range-picker class="form-control date-picker" placeholder="Select date range" type="text"
                           ng-model="filter.createDate" ng-change="filteredPayments(filter)"/>
                </div>
            </div>
            <!--<div class=" col-sm-2">
                <multi-select
                        default-label="Status filter"
                        input-model="status"
                        output-model="resultData.status"
                        button-label="icon name"
                        item-label="icon name maker"
                        tick-property="ticked"
                        max-labels="1"
                        max-height="250px"
                        >
                </multi-select>
            </div>
            <div class=" col-sm-2">
                <multi-select
                        default-label="CashierOffice filter"
                        input-model="cashierOfficies"
                        output-model="resultData.cashierOffice"
                        button-label="icon name"
                        item-label="icon name maker"
                        tick-property="ticked"
                        max-labels="1"
                        max-height="250px"
                        >
                </multi-select>
            </div>
            <div class=" col-sm-2">
                <multi-select
                        default-label="Type filter"
                        input-model="paymentType"
                        output-model="resultData.type"
                        button-label="icon name"
                        item-label="icon name maker"
                        tick-property="ticked"
                        max-labels="1"
                        selection-mode="single"
                        >
                </multi-select>
            </div>-->
        </div>

    </div>
</div>

<div class="col-sm-12 col-md-12" >
    <div class="pa-md" ng-show="draftPayments.length">
        <h3 style="margin-bottom:10px;">Draft payments:</h3>

        <div class="row">
            <div class="col-sm-2 col-md-2 col-bt-2" ng-repeat="item in draftPayments" ng-click="edit(item)">
                <div class="panel panel-body">
                    <!--<ul class="row_collection">
                        <li ng-repeat="file in item.factoryFiles" class="img-wrapper" ng-if="$index<2">

                            <img ng-src="{{imagePath}}{{file.path}}"/>

                        </li>
                    </ul>-->
                    <div class="marker_success">
                        <!--class= "marker_danger marker_info"-->
                        <div>{{item.payment.amount}}&nbsp{{item.currency.ISOCode}}</div>
                        <p class="caption">{{item.factory.name}}&nbsp;&nbsp;<span class="date">{{item.payment.paymentDate}}</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-12 col-md-12" >
    <div ng-show="paidPayments.length">
        <h3 style="margin:0 0 0 40px;">Paid payments:</h3>
        <widget-table
                datarows="paidPayments"
                dataheader="tableHeader"
                edit="edit()"
                row="row"
                >
        </widget-table>
        <div class="pa-md">
            <div class="row">
                <div class="col-md-12">
                    <table class="table table-bordered table-striped dataTable no-footer">
                        <tbody>
                        <tr>
                            <td colspan="7"><strong>Total</strong></td>
                            <td>Amount : {{paidSummary.amount}} {{paidSummary.currency}}</td>
                            <td>Refund : {{paidSummary.refund}} {{paidSummary.currency}}</td>
                            <td>Difference : {{paidSummary.difference}} {{paidSummary.currency}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
